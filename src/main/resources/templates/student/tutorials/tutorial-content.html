<div th:fragment="content">

    <h4 class="fw-bold mb-3">
        <i class="fa-solid fa-book-open text-primary me-2"></i>
        [[${tutorial.title}]]
    </h4>

    <!-- VIDEO -->
    <div th:if="${tutorial.type.name() == 'VIDEO'}">
        <div class="ratio ratio-16x9 shadow rounded">
            <video controls class="w-100" id="tutorialVideo"
                   th:attr="onended=|completeTutorial(${tutorial.id})|">
                <source th:src="@{${tutorial.filePath}}" type="video/mp4">
            </video>
        </div>
    </div>

    <!-- ARTICLE -->
    <div th:if="${tutorial.type.name() == 'ARTICLE'}">
        <div class="article-content" th:utext="${tutorial.articleContent}"></div>

        <button class="btn btn-success mt-4"
                th:onclick="|completeTutorial(${tutorial.id})|">
            <i class="fa-solid fa-check"></i> Mark as Read
        </button>
    </div>

    <!-- QUIZ --><!-- QUIZ -->
    <div th:if="${tutorial.type.name() == 'QUIZ'}">

        <form id="quizForm">
            <div th:each="q : ${tutorial.quizQuestions}"
                 class="quiz-question mb-4"
                 th:attr="data-qid=${q.id}">

                <b>
                    <i class="fa-solid fa-circle-question text-primary me-2"></i>
                    [[${q.question}]]
                </b>

                <div class="form-check mt-2"
                     th:each="opt, stat : ${q.options}">
                    <input class="form-check-input"
                           type="radio"
                           th:name="'q_' + ${q.id}"
                           th:value="${stat.index}">
                    <label class="form-check-label">[[${opt}]]</label>
                </div>

                <div class="quiz-feedback mt-2"></div>
            </div>


            <button type="button"
                    class="btn btn-primary mt-3"
                    th:onclick="|submitQuiz(${tutorial.id})|">
                <i class="fa-solid fa-paper-plane"></i> Submit Quiz
            </button>

            <button type="button"
                    class="btn btn-outline-secondary mt-3 d-none"
                    id="retryBtn"
                    onclick="retryQuiz()">
                <i class="fa-solid fa-rotate-right"></i> Retry
            </button>
        </form>

        <div id="quizResult" class="mt-4"></div>
    </div>


</div>
