<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org"-->
<!--      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns="http://www.w3.org/1999/html"-->
<!--      layout:decorate="~{layout/base}">-->
<!--<head>-->
<!--    <title>Your Courses</title>-->
<!--</head>-->
<!--<body>-->


<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <title>Manage Courses</title>-->
<!--    <link rel="stylesheet" href="/webjars/bootstrap/5.3.2/css/bootstrap.min.css">-->
<!--    <link rel="stylesheet" href="/webjars/fontawesome/6.4.2/css/all.min.css">-->
<!--    <style>-->
<!--        .course-card, .section-card, .tutorial-card {-->
<!--            border: 1px solid #ddd;-->
<!--            border-radius: 5px;-->
<!--            padding: 15px;-->
<!--            margin-bottom: 15px;-->
<!--            background-color: #fff;-->
<!--        }-->
<!--        .section-card { background-color: #f8f9fa; }-->
<!--        .tutorial-card { background-color: #e9ecef; }-->
<!--        .dragging { opacity: 0.5; }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->


<!--<section layout:fragment="content">-->

<!--    <div class="container mt-4">-->

<!--        <div class="d-flex justify-content-between align-items-center mb-3">-->
<!--            <h2 class="fw-bold">Your Courses</h2>-->

<!--            <button class="btn btn-primary" id="btnCreateCourse">-->
<!--                <i class="bi bi-plus-circle"></i> New Course-->
<!--            </button>-->
<!--        </div>-->

<!--        &lt;!&ndash; COURSES WRAPPER &ndash;&gt;-->
<!--        <div class="card shadow-sm">-->
<!--            <div class="card-body">-->

<!--                <div th:each="course : ${courses}" class="border rounded p-3 mb-4">-->

<!--                    <div class="d-flex justify-content-between">-->
<!--                        <div>-->
<!--                            <h4 th:text="${course.title}"></h4>-->
<!--                            <p th:text="${course.description}" class="text-muted"></p>-->

<!--                            <span class="badge bg-secondary">Price: $<span th:text="${course.price}"></span></span>-->
<!--                            <span class="badge bg-info">Status: <span th:text="${course.published}"></span></span>-->
<!--                        </div>-->

<!--                        <div class="d-flex gap-2">-->
<!--                            <button class="btn btn-success btn-sm btn-add-tutorial"-->
<!--                                    th:data-course-id="${course.id}">-->
<!--                                Add Tutorial-->
<!--                            </button>-->

<!--                            <button class="btn btn-info btn-sm btn-view-enrollments"-->
<!--                                    th:data-course-id="${course.id}">-->
<!--                                Students-->
<!--                            </button>-->

<!--                            <button class="btn btn-warning btn-sm btn-edit-course"-->
<!--                                    th:data-course-id="${course.id}">-->
<!--                                Edit-->
<!--                            </button>-->

<!--                            <button class="btn btn-danger btn-sm btn-delete-course"-->
<!--                                    th:data-course-id="${course.id}">-->
<!--                                Delete-->
<!--                            </button>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; Tutorials &ndash;&gt;-->
<!--                    <h6 class="mt-3">Tutorials</h6>-->
<!--                    <div th:id="'tutorials-container-' + ${course.id}">-->
<!--                        <div class="text-center text-muted">Loading tutorials...</div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; Students &ndash;&gt;-->
<!--                    <h6 class="mt-3">Enrolled Students</h6>-->
<!--                    <div th:id="'students-container-' + ${course.id}">-->
<!--                        <div class="text-center text-muted">Loading students...</div>-->
<!--                    </div>-->

<!--                </div>-->

<!--                &lt;!&ndash; Pagination &ndash;&gt;-->
<!--                <nav aria-label="Courses pagination">-->
<!--                    <ul class="pagination justify-content-center mt-3">-->
<!--                        <li class="page-item" th:classappend="${currentPage == 0}? 'disabled'">-->
<!--                            <a class="page-link"-->
<!--                               th:href="@{/dr/courses(pageCourses=${currentPage - 1})}">-->
<!--                                Previous-->
<!--                            </a>-->
<!--                        </li>-->

<!--                        <li class="page-item disabled">-->
<!--                            <span class="page-link">-->
<!--                                Page <span th:text="${currentPage + 1}"></span> of <span th:text="${totalPages}"></span>-->
<!--                            </span>-->
<!--                        </li>-->

<!--                        <li class="page-item" th:classappend="${currentPage +1 >= totalPages}? 'disabled'">-->
<!--                            <a class="page-link"-->
<!--                               th:href="@{/dr/courses(pageCourses=${currentPage + 1})}">-->
<!--                                Next-->
<!--                            </a>-->
<!--                        </li>-->
<!--                    </ul>-->
<!--                </nav>-->

<!--            </div>-->
<!--        </div>-->
<!--    </div>-->


<!--    <div th:replace="dr/modals/modalCreateCourse :: modal"></div>-->
<!--    <div th:replace="dr/modals/modalAddTutorial :: modal"></div>-->
<!--&lt;!&ndash;    <div th:replace="dr/modals/modalViewTutorial :: modal"></div>&ndash;&gt;-->
<!--    <div th:replace="dr/modals/modalViewEnrollments :: modal"></div>-->

<!--</section>-->

<!--//////////////////////////////////////////////////////////////-->
<!--//////////////////////////////////////////////////////////////////////////-->
<!--/////////////////////////////////Good1//////////////////-->
<!--<section layout:fragment="content">-->

<!--    <div class="container mt-4">-->

<!--        &lt;!&ndash; Header &ndash;&gt;-->
<!--        <div class="d-flex justify-content-between align-items-center mb-3">-->
<!--            <h2 class="fw-bold"><i class="fas fa-graduation-cap me-2"></i>Your Courses</h2>-->

<!--            <button class="btn btn-primary" id="btnCreateCourse" data-bs-toggle="tooltip" title="Create a new course">-->
<!--                <i class="fas fa-plus-circle me-1"></i> New Course-->
<!--            </button>-->
<!--        </div>-->

<!--        &lt;!&ndash; Courses List &ndash;&gt;-->
<!--        <div th:each="course : ${courses}" class="course-card">-->

<!--            <div class="d-flex justify-content-between align-items-start course-header">-->
<!--                <div>-->
<!--                    <h4>-->
<!--                        <i class="fas fa-book-medical text-secondary me-2"></i>-->
<!--                        <span th:text="${course.title}"></span>-->
<!--                    </h4>-->
<!--                    <p th:text="${course.description}"></p>-->

<!--                    <div class="course-badges mt-1">-->
<!--                        <span class="badge bg-secondary">-->
<!--                            <i class="fas fa-dollar-sign me-1"></i>-->
<!--                            <span th:text="${course.price}"></span>-->
<!--                        </span>-->
<!--                        <span class="badge bg-info">-->
<!--                            <i class="fas fa-circle-notch me-1"></i>-->
<!--                            <span th:text="${course.published}"></span>-->
<!--                        </span>-->
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="d-flex gap-2 course-actions">-->
<!--                    <button class="btn btn-success btn-sm btn-add-tutorial" th:data-course-id="${course.id}" data-bs-toggle="tooltip" title="Add Tutorial">-->
<!--                        <i class="fas fa-file-medical"></i>-->
<!--                    </button>-->

<!--                    <button class="btn btn-info btn-sm btn-view-enrollments" th:data-course-id="${course.id}" data-bs-toggle="tooltip" title="View Enrolled Students">-->
<!--                        <i class="fas fa-users"></i>-->
<!--                    </button>-->

<!--                    <button class="btn btn-warning btn-sm btn-edit-course" th:data-course-id="${course.id}" data-bs-toggle="tooltip" title="Edit Course">-->
<!--                        <i class="fas fa-edit"></i>-->
<!--                    </button>-->

<!--                    <button class="btn btn-danger btn-sm btn-delete-course" th:data-course-id="${course.id}" title="Delete Course">-->
<!--                        <i class="fas fa-trash-alt"></i>-->
<!--                    </button>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Tutorials &ndash;&gt;-->
<!--            <div class="tutorials-container" th:id="'tutorials-container-' + ${course.id}">-->
<!--                <div class="text-center text-muted"><i class="fas fa-spinner fa-spin me-1"></i>Loading tutorials...</div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Students-->
<!--            <div class="students-container" th:id="'students-container-' + ${course.id}">-->
<!--                <div class="text-center text-muted"><i class="fas fa-spinner fa-spin me-1"></i>Loading students...</div>-->
<!--            </div>-->
<!--&ndash;&gt;-->
<!--        </div>-->
<!--//////////////////////////////-->
<!--///////////////////good1 end/////////////-->

<!-- Pagination -->
<!--        <nav aria-label="Courses pagination">-->
<!--            <ul class="pagination justify-content-center mt-3">-->
<!--                <li class="page-item" th:classappend="${currentPage == 0}? 'disabled'">-->
<!--                    <a class="page-link" th:href="@{/dr/courses(pageCourses=${currentPage - 1})}">Previous</a>-->
<!--                </li>-->
<!--                <li class="page-item disabled">-->
<!--                    <span class="page-link">Page <span th:text="${currentPage + 1}"></span> of <span th:text="${totalPages}"></span></span>-->
<!--                </li>-->
<!--                <li class="page-item" th:classappend="${currentPage +1 >= totalPages}? 'disabled'">-->
<!--                    <a class="page-link" th:href="@{/dr/courses(pageCourses=${currentPage + 1})}">Next</a>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </nav>-->

<!-- Pagination -->
<!--        <nav aria-label="Courses pagination" class="mt-4">-->
<!--            <ul class="pagination justify-content-center">-->
<!--                &lt;!&ndash; Previous &ndash;&gt;-->
<!--                <li class="page-item" th:classappend="${currentPage == 0}? 'disabled'">-->
<!--                    <a class="page-link" th:href="@{/dr/courses(pageCourses=${currentPage - 1})}">-->
<!--                        <i class="fas fa-chevron-left me-1"></i> Previous-->
<!--                    </a>-->
<!--                </li>-->

<!--                &lt;!&ndash; Page Numbers &ndash;&gt;-->
<!--                <li th:each="i : ${#numbers.sequence(0, totalPages - 1)}"-->
<!--                    class="page-item" th:classappend="${i == currentPage}? 'active'">-->
<!--                    <a class="page-link" th:href="@{/dr/courses(pageCourses=${i})}" th:text="${i + 1}">1</a>-->
<!--                </li>-->

<!--                &lt;!&ndash; Next &ndash;&gt;-->
<!--                <li class="page-item" th:classappend="${currentPage + 1 >= totalPages}? 'disabled'">-->
<!--                    <a class="page-link" th:href="@{/dr/courses(pageCourses=${currentPage + 1})}">-->
<!--                        Next <i class="fas fa-chevron-right ms-1"></i>-->
<!--                    </a>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </nav>-->
<!--        <nav aria-label="Course navigation" class="mt-3">-->
<!--            <ul class="pagination pagination-aminah justify-content-center">-->

<!--                &lt;!&ndash; previous &ndash;&gt;-->
<!--                <li class="page-item" th:classappend="${coursesPage.hasPrevious()} ?: 'disabled'">-->
<!--                    <a class="page-link"-->
<!--                       th:href="@{/dr/courses(pageCourses=${coursesPage.number - 1})}">-->
<!--                        Previous-->
<!--                    </a>-->
<!--                </li>-->

<!--                &lt;!&ndash; numbers &ndash;&gt;-->
<!--                <li class="page-item"-->
<!--                    th:each="i : ${#numbers.sequence(0, coursesPage.totalPages - 1)}"-->
<!--                    th:classappend="${i == coursesPage.number} ? 'active'">-->
<!--                    <a class="page-link"-->
<!--                       th:text="${i + 1}"-->
<!--                       th:href="@{/dr/courses(pageCourses=${i})}">-->
<!--                    </a>-->
<!--                </li>-->

<!--                &lt;!&ndash; next &ndash;&gt;-->
<!--                <li class="page-item" th:classappend="${coursesPage.hasNext()} ?: 'disabled'">-->
<!--                    <a class="page-link"-->
<!--                       th:href="@{/dr/courses(pageCourses=${coursesPage.number + 1})}">-->
<!--                        Next-->
<!--                    </a>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </nav>-->

<!--    </div>-->
<!--    &lt;!&ndash; Delete Confirmation Modal &ndash;&gt;-->
<!--    <div class="modal fade" id="deleteCourseModal" tabindex="-1" aria-hidden="true">-->
<!--        <div class="modal-dialog modal-dialog-centered">-->
<!--            <div class="modal-content border-0 shadow-lg">-->
<!--                <div class="modal-header bg-danger text-white">-->
<!--                    <h5 class="modal-title"><i class="fas fa-exclamation-triangle me-2"></i>Confirm Delete</h5>-->
<!--                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>-->
<!--                </div>-->
<!--                <div class="modal-body text-center">-->
<!--                    <i class="fas fa-book-medical fa-3x text-danger mb-3"></i>-->
<!--                    <p class="mb-3 fw-semibold">Are you sure you want to delete this course?</p>-->
<!--                    <p class="text-muted small">This action cannot be undone.</p>-->
<!--                </div>-->
<!--                <div class="modal-footer justify-content-center">-->
<!--                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>-->
<!--                    <button type="button" class="btn btn-danger" id="confirmDeleteBtn">-->
<!--                        <i class="fas fa-trash-alt me-1"></i> Delete-->
<!--                    </button>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; Modals &ndash;&gt;-->
<!--    <div th:replace="dr/modals/modalCreateCourse :: modal"></div>-->
<!--    <div th:replace="dr/modals/modalAddTutorial :: modal"></div>-->
<!--    <div th:replace="dr/modals/modalViewEnrollments :: modal"></div>-->

<!--</section>-->

<!--<script>-->
<!--    // Enable Bootstrap tooltips-->
<!--    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')-->
<!--    const tooltipList = [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el))-->
<!--</script>-->

<!--</body>-->
<!--</html>-->


<!--???????????????????????????????????????????-->
<!--?????????????????????????????????????????????????????-->
<!---->
<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org"-->
<!--      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns="http://www.w3.org/1999/html"-->
<!--      layout:decorate="~{layout/base}">-->
<!--<head>-->
<!--    <title>Your Courses</title>-->
<!--</head>-->
<!--<body>-->
<!--<section layout:fragment="content">-->

<!--<div class="container mt-4">-->

<!--    <h2 class="mb-4">-->
<!--        <i class="fas fa-layer-group text-primary"></i> Course Content Manager-->
<!--    </h2>-->

<!--    &lt;!&ndash; Each Course &ndash;&gt;-->
<!--    <div th:each="course : ${courses}" class="mb-5">-->

<!--        <div class="card shadow-lg border-0 rounded-3 aminah-animate">-->
<!--            <div class="card-body">-->

<!--                <h3 class="text-primary fw-bold" th:text="${course.title}"></h3>-->
<!--                <p th:text="${course.description}"></p>-->

<!--                <hr>-->

<!--                &lt;!&ndash; ================= SECTIONS ================= &ndash;&gt;-->
<!--                <div th:each="section : ${course.sections}" class="mb-3">-->

<!--                    <div class="section-card p-3 rounded shadow-sm bg-light"-->
<!--                         data-bs-toggle="collapse"-->
<!--                         th:data-bs-target="'#section-'+${section.id}"-->
<!--                         style="cursor:pointer;">-->

<!--                        <h4 class="m-0 text-dark">-->
<!--                            <i class="fas fa-folder-open text-warning"></i>-->
<!--                            <span th:text="${section.title}"></span>-->
<!--                        </h4>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; COLLAPSIBLE TUTORIALS &ndash;&gt;-->
<!--                    <div th:id="'section-'+${section.id}" class="collapse mt-2">-->

<!--                        &lt;!&ndash; Tutorials &ndash;&gt;-->
<!--                        <div th:each="t : ${section.tutorials}" class="tutorial-card p-3 mb-2 shadow-sm rounded bg-white">-->

<!--                            <h5>-->
<!--                                <i class="fas fa-play-circle text-success" th:if="${t.type.name() == 'VIDEO'}"></i>-->
<!--                                <i class="fas fa-file-pdf text-danger" th:if="${t.type.name() == 'PDF'}"></i>-->
<!--                                <i class="fas fa-align-left text-info" th:if="${t.type.name() == 'ARTICLE'}"></i>-->
<!--                                <i class="fas fa-question-circle text-primary" th:if="${t.type.name() == 'QUIZ'}"></i>-->
<!--                                <span th:text="${t.title}"></span>-->
<!--                            </h5>-->

<!--                        </div>-->

<!--                        &lt;!&ndash; Add Tutorial Form &ndash;&gt;-->
<!--                        <form th:action="@{'/dr/sections/' + ${section.id} + '/tutorials/add'}"-->
<!--                              method="post"-->
<!--                              enctype="multipart/form-data"-->
<!--                              class="p-3 bg-white rounded shadow-sm">-->

<!--                            <h6>Add Tutorial</h6>-->

<!--                            <input class="form-control mb-2" name="title" placeholder="Tutorial Title" required>-->

<!--                            <select class="form-select mb-2" name="type" id="tutorialTypeSelect" required>-->
<!--                                <option value="VIDEO">Video</option>-->
<!--                                <option value="PDF">PDF</option>-->
<!--                                <option value="ARTICLE">Article</option>-->
<!--                                <option value="QUIZ">Quiz</option>-->
<!--                            </select>-->

<!--                            <div id="fileInputWrap" class="mb-2">-->
<!--                                <input type="file" class="form-control" name="file">-->
<!--                            </div>-->

<!--                            <textarea id="articleWrap" class="form-control d-none mb-2"-->
<!--                                      name="articleContent" placeholder="Write article content..."></textarea>-->

<!--                            <button class="btn btn-primary w-100">-->
<!--                                <i class="fas fa-plus"></i> Add Tutorial-->
<!--                            </button>-->

<!--                        </form>-->

<!--                    </div>-->
<!--                </div>-->

<!--                <hr>-->

<!--                &lt;!&ndash; Add Section &ndash;&gt;-->
<!--                <form th:action="@{'/dr/courses/' + ${course.id} + '/sections/add'}" method="post">-->
<!--                    <div class="input-group">-->
<!--                        <input class="form-control" name="title" placeholder="New Section Title" required>-->
<!--                        <button class="btn btn-success">-->
<!--                            <i class="fas fa-plus"></i> Add Section-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </form>-->

<!--            </div>-->
<!--        </div>-->

<!--    </div>-->
<!--</div>-->


<!--</section>-->

<!--<script>-->
<!--    // Enable Bootstrap tooltips-->
<!--    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')-->
<!--    const tooltipList = [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el))-->
<!--</script>-->

<!--</body>-->
<!--</html>-->


<!--????????????-->

<!--????????????-->


<!--????????????-->


<!--<!DOCTYPE html>-->
<!--<html xmlns:th="http://www.thymeleaf.org"-->
<!--      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"-->
<!--      layout:decorate="~{layout/base}">-->
<!--<head>-->
<!--    <title>Manage Courses</title>-->
<!--    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-..." crossorigin="anonymous"/>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <style>-->
<!--        /* Aminah UI animations and card styles */-->
<!--        .aminah-animate { transition: all 0.3s ease; }-->
<!--        .section-card:hover, .tutorial-card:hover { transform: translateY(-3px); box-shadow: 0 8px 15px rgba(0,0,0,0.2); }-->
<!--        .tutorial-card { cursor: grab; }-->
<!--        .section-card { cursor: grab; margin-bottom: 10px; }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->
<!--<section layout:fragment="content">-->
<!--    <div class="container mt-4">-->
<!--        <h2 class="mb-4"><i class="fas fa-layer-group text-primary"></i> Course Content Manager</h2>-->

<!--        &lt;!&ndash; Courses &ndash;&gt;-->
<!--        <div th:each="course : ${courses}" class="mb-5">-->
<!--            <div class="card shadow-lg border-0 rounded-3 aminah-animate p-3">-->
<!--                <div class="card-body">-->
<!--                    <div class="d-flex justify-content-between align-items-center mb-2">-->
<!--                        <h3 class="text-primary fw-bold" th:text="${course.title}"></h3>-->
<!--                        <div>-->
<!--                            <form th:action="@{'/dr/courses/' + ${course.id} + '/publish'}" method="post" style="display:inline">-->
<!--                                <button class="btn btn-sm" th:classappend="${course.published}? 'btn-success':'btn-outline-secondary'">-->
<!--                                    <i class="fas fa-toggle-on"></i> <span th:text="${course.published}?'Published':'Draft'"></span>-->
<!--                                </button>-->
<!--                            </form>-->
<!--                            <form th:action="@{'/dr/courses/delete/' + ${course.id}}" method="post" style="display:inline">-->
<!--                                <button class="btn btn-danger btn-sm"><i class="fas fa-trash"></i></button>-->
<!--                            </form>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <p th:text="${course.description}"></p>-->

<!--                    <hr>-->

<!--                    &lt;!&ndash; Sections Container (Drag-and-drop) &ndash;&gt;-->
<!--                    <div id="sectionsContainer" th:data-course-id="${course.id}">-->
<!--                        <div th:each="section : ${course.sections}" class="section-card p-3 rounded shadow-sm bg-light aminah-animate"-->
<!--                             th:data-id="${section.id}" data-bs-toggle="collapse"-->
<!--                             th:data-bs-target="'#section-'+${section.id}">-->
<!--                            <div class="d-flex justify-content-between align-items-center">-->
<!--                                <input type="text" class="form-control section-title-input" th:value="${section.title}" th:data-id="${section.id}">-->
<!--                                <form th:action="@{'/dr/sections/delete/' + ${section.id}}" method="post">-->
<!--                                    <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>-->
<!--                                </form>-->
<!--                            </div>-->

<!--                            &lt;!&ndash; Tutorials Collapse &ndash;&gt;-->
<!--                            <div th:id="'section-'+${section.id}" class="collapse mt-2 tutorialsContainer" th:data-section-id="${section.id}">-->
<!--                                <div th:each="t : ${section.tutorials}" class="tutorial-card p-3 mb-2 shadow-sm rounded bg-white aminah-animate" th:data-id="${t.id}">-->
<!--                                    <div class="d-flex justify-content-between align-items-center">-->
<!--                                        <h5>-->
<!--                                            <i class="fas fa-play-circle text-success" th:if="${t.type.name() == 'VIDEO'}"></i>-->
<!--                                            <i class="fas fa-file-pdf text-danger" th:if="${t.type.name() == 'PDF'}"></i>-->
<!--                                            <i class="fas fa-align-left text-info" th:if="${t.type.name() == 'ARTICLE'}"></i>-->
<!--                                            <i class="fas fa-question-circle text-primary" th:if="${t.type.name() == 'QUIZ'}"></i>-->
<!--                                            <input type="text" class="form-control tutorial-title-input d-inline w-75" th:value="${t.title}" th:data-id="${t.id}">-->
<!--                                        </h5>-->
<!--                                        <form th:action="@{'/dr/tutorial/' + ${t.id} + '/delete'}" method="post">-->
<!--                                            <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>-->
<!--                                        </form>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                                &lt;!&ndash; Add Tutorial &ndash;&gt;-->
<!--                                <form th:action="@{'/dr/sections/' + ${section.id} + '/tutorials/add'}" method="post" enctype="multipart/form-data" class="p-3 bg-white rounded shadow-sm">-->
<!--                                    <h6>Add Tutorial</h6>-->
<!--                                    <input class="form-control mb-2" name="title" placeholder="Tutorial Title" required>-->
<!--                                    <select class="form-select mb-2" name="type" required>-->
<!--                                        <option value="VIDEO">Video</option>-->
<!--                                        <option value="PDF">PDF</option>-->
<!--                                        <option value="ARTICLE">Article</option>-->
<!--                                        <option value="QUIZ">Quiz</option>-->
<!--                                    </select>-->
<!--                                    <div id="fileInputWrap" class="mb-2">-->
<!--                                        <input type="file" class="form-control" name="file">-->
<!--                                    </div>-->
<!--                                    <textarea class="form-control d-none mb-2" name="articleContent" placeholder="Write article content..."></textarea>-->
<!--                                    <button class="btn btn-primary w-100"><i class="fas fa-plus"></i> Add Tutorial</button>-->
<!--                                </form>-->

<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; Add Section &ndash;&gt;-->
<!--                    <form th:action="@{'/dr/courses/' + ${course.id} + '/sections/add'}" method="post" class="mt-2">-->
<!--                        <div class="input-group">-->
<!--                            <input class="form-control" name="title" placeholder="New Section Title" required>-->
<!--                            <button class="btn btn-success"><i class="fas fa-plus"></i> Add Section</button>-->
<!--                        </div>-->
<!--                    </form>-->

<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--    </div>-->
<!--</section>-->

<!--&lt;!&ndash; Scripts &ndash;&gt;-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>-->

<!--<script>-->
<!--    document.addEventListener('DOMContentLoaded', function () {-->

<!--        // Sections Drag-and-Drop-->
<!--        document.querySelectorAll('#sectionsContainer').forEach(container => {-->
<!--            new Sortable(container, {-->
<!--                handle: '.section-card',-->
<!--                animation: 150,-->
<!--                onEnd: function(evt) {-->
<!--                    const order = [...evt.from.children].map(s => s.dataset.id);-->
<!--                    fetch('/dr/sections/reorder', {-->
<!--                        method: 'POST',-->
<!--                        headers: {'Content-Type': 'application/json'},-->
<!--                        body: JSON.stringify(order)-->
<!--                    });-->
<!--                }-->
<!--            });-->
<!--        });-->

<!--        // Tutorials Drag-and-Drop-->
<!--        document.querySelectorAll('.tutorialsContainer').forEach(container => {-->
<!--            new Sortable(container, {-->
<!--                handle: '.tutorial-card',-->
<!--                animation: 150,-->
<!--                onEnd: function(evt){-->
<!--                    const order = [...evt.from.children].map(t => t.dataset.id);-->
<!--                    fetch('/dr/tutorials/reorder', {-->
<!--                        method: 'POST',-->
<!--                        headers: {'Content-Type': 'application/json'},-->
<!--                        body: JSON.stringify(order)-->
<!--                    });-->
<!--                }-->
<!--            });-->
<!--        });-->

<!--        // Inline edit section titles-->
<!--        document.querySelectorAll('.section-title-input').forEach(input => {-->
<!--            input.addEventListener('blur', function() {-->
<!--                const sectionId = this.dataset.id;-->
<!--                const title = this.value;-->
<!--                fetch('/dr/sections/edit/' + sectionId + '?title=' + encodeURIComponent(title), {method: 'POST'});-->
<!--            });-->
<!--        });-->

<!--        // Inline edit tutorial titles-->
<!--        document.querySelectorAll('.tutorial-title-input').forEach(input => {-->
<!--            input.addEventListener('blur', function() {-->
<!--                const tutorialId = this.dataset.id;-->
<!--                const title = this.value;-->
<!--                fetch('/dr/tutorials/edit/' + tutorialId + '?title=' + encodeURIComponent(title), {method: 'POST'});-->
<!--            });-->
<!--        });-->

<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->

<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns="http://www.w3.org/1999/html"
      layout:decorate="~{layout/base}">
<head>

    <title>Manage Courses</title>

</head>
<body>

<section layout:fragment="content">

    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="fw-bold"><i class="fas fa-graduation-cap me-2"></i>Your Courses</h2>
        <button class="btn btn-primary" id="btnCreateCourse">
            <i class="fas fa-plus-circle me-1"></i> New Course
        </button>
    </div>

    <!-- Courses List -->
    <div th:each="course : ${courses}" class="course-card mb-4 p-3 border rounded">

        <!-- Course Header -->
        <div class="d-flex justify-content-between align-items-start course-header">
            <div>
                <h4>
                    <i class="fas fa-book-medical text-secondary me-2"></i>
                    <span th:text="${course.title}"></span>
                </h4>
                <p th:text="${course.description}"></p>
                <div class="course-badges mt-1">
                    <span class="badge bg-secondary">
                        <i class="fas fa-dollar-sign me-1"></i>
                        <span th:text="${course.price}"></span>
                    </span>
                    <span class="badge bg-info">
                        <i class="fas fa-circle-notch me-1"></i>
                        <span th:text="${course.published}"></span>
                    </span>
                </div>
            </div>

            <div class="d-flex gap-2 course-actions">
                <button class="btn btn-success btn-sm btn-add-section" th:data-course-id="${course.id}"
                        title="Add Section">
                    <i class="fas fa-layer-group"></i>
                </button>

                <button class="btn btn-info btn-sm btn-view-enrollments" th:data-course-id="${course.id}"
                        data-bs-toggle="tooltip" title="View Enrolled Students">
                    <i class="fas fa-users"></i>
                </button>

                <button class="btn btn-warning btn-sm btnEditCourse" th:data-course-id="${course.id}"
                        title="Edit Course">
                    <i class="fas fa-edit"></i>
                </button>

                <button class="btn btn-danger btn-sm btn-delete-course"
                        th:data-course-id="${course.id}"
                        title="Delete Course">
                    <i class="fas fa-trash-alt"></i>
                </button>

            </div>
        </div>

        <!-- Sections -->
        <div class="sections-container mt-3" th:id="'sections-container-' + ${course.id}">
            <div class="text-center text-muted"><i class="fas fa-spinner fa-spin me-1"></i>Loading sections...</div>
        </div>

        <!-- Students -->
        <div class="students-container mt-3" th:id="'students-container-' + ${course.id}">
            <div class="text-center text-muted"><i class="fas fa-spinner fa-spin me-1"></i>Loading students...</div>
        </div>

    </div>

    <!-- Pagination -->
    <nav aria-label="Course navigation" class="mt-3">
        <ul class="pagination pagination-aminah justify-content-center">

            <!-- previous -->
            <li class="page-item" th:classappend="${coursesPage.hasPrevious()} ?: 'disabled'">
                <a class="page-link"
                   th:href="@{/dr/courses(pageCourses=${coursesPage.number - 1})}">
                    Previous
                </a>
            </li>

            <!-- numbers -->
            <li class="page-item"
                th:each="i : ${#numbers.sequence(0, coursesPage.totalPages - 1)}"
                th:classappend="${i == coursesPage.number} ? 'active'">
                <a class="page-link"
                   th:text="${i + 1}"
                   th:href="@{/dr/courses(pageCourses=${i})}">
                </a>
            </li>

            <!-- next -->
            <li class="page-item" th:classappend="${coursesPage.hasNext()} ?: 'disabled'">
                <a class="page-link"
                   th:href="@{/dr/courses(pageCourses=${coursesPage.number + 1})}">
                    Next
                </a>
            </li>
        </ul>
    </nav>
    <div th:replace="~{dr/modals/modalCreateCourse :: modal}"></div>
    <div th:replace="~{dr/modals/modalAddTutorial :: modal}"></div>
    <div th:replace="~{dr/modals/modalSection :: modal}"></div>
    <div th:replace="~{dr/modals/modalDeleteCourse :: modal}"></div>
    <div th:replace="~{dr/modals/modalViewEnrollments :: modal}"></div>
    <div th:replace="~{dr/modals/modalViewTutorial :: modal}"></div>
    <div th:replace="~{dr/modals/modalDeleteSection :: modal}"></div>
    <div th:replace="~{dr/modals/modalDeleteTutorial :: modal}"></div>


</section>
</body>
</html>
