<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head th:replace="~{layout/fragments/header :: head('${course.title}')}"></head>
<body>
<div th:replace="~{layout/fragments/header :: navbar}"></div>
<main class="container py-4">
    <div class="d-flex justify-content-between align-items-start">
        <div>
            <h1 th:text="${course.title}">Course</h1>
            <p th:text="${course.description}">Description</p>
            <p class="text-muted">Created by: <span th:text="${course.author}">Dr</span></p>
        </div>
        <div>
            <div th:if="${enrolled}" class="alert alert-success">You are enrolled</div>
            <form th:if="${!enrolled}" th:action="@{/courses/{id}/enroll(id=${course.id})}" method="post"><button class="btn btn-primary">Enroll (Free)</button></form>
        </div>
    </div>
    <h3 class="mt-4">Tutorials</h3>
    <ul class="list-group">
        <li class="list-group-item" th:each="t : ${course.tutorials}"><span th:text="${t.title}">Tutorial</span><a th:href="@{/uploads/{file}(file=${t.filePath})}" class="btn btn-sm btn-outline-secondary ms-2">Open</a><span class="badge bg-secondary ms-2" th:text="${t.type}">TYPE</span></li>
    </ul>
</main>
</body>
</html>